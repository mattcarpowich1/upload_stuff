(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,function(e,a,t){e.exports=t.p+"static/media/pink-baby.9eb486ec.svg"},,,,,function(e,a,t){e.exports=t.p+"static/media/upload-cloud.214bbe1a.svg"},function(e,a,t){e.exports=t.p+"static/media/check.bb2ac3a2.svg"},,,function(e,a,t){e.exports=t(28)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(6),c=t.n(i),l=(t(21),t(7)),o=t.n(l),s=(t(22),function(){return r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:o.a,alt:"baby"}),r.a.createElement("h1",null,"babydrop"))}),d=(t(23),t(4)),u=t(3),p=t.n(u),m=t(8),h=t(2),v=t(9),f=t(10),b=t(14),g=t(11),E=t(1),O=t(15),y=t(12),k=t.n(y),D=(t(25),function(e){function a(e){var t;return Object(v.a)(this,a),(t=Object(b.a)(this,Object(g.a)(a).call(this,e))).state={hover:!1},t.handleDragOver=t.handleDragOver.bind(Object(E.a)(t)),t.handleDragLeave=t.handleDragLeave.bind(Object(E.a)(t)),t.handleDrop=t.handleDrop.bind(Object(E.a)(t)),t.handleOpenFileDialog=t.handleOpenFileDialog.bind(Object(E.a)(t)),t.handleOnFilesAdded=t.handleOnFilesAdded.bind(Object(E.a)(t)),t}return Object(O.a)(a,e),Object(f.a)(a,[{key:"handleDragOver",value:function(e){this.stopEvent(e),this.props.disabled||this.setState({hover:!0})}},{key:"handleDragLeave",value:function(e){this.stopEvent(e),this.setState({hover:!1})}},{key:"handleDrop",value:function(e){if(this.stopEvent(e),!this.props.disabled){var a=this.props.onFilesAdded,t=e.dataTransfer.files;a(this.fileListToArray(t)),this.setState({hover:!1})}}},{key:"handleOpenFileDialog",value:function(){this.fileInputRef.click()}},{key:"handleOnFilesAdded",value:function(e){var a=e.target.files;(0,this.props.onFilesAdded)(this.fileListToArray(a))}},{key:"stopEvent",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"fileListToArray",value:function(e){return Array.from(e)}},{key:"render",value:function(){var e=this,a=this.state.hover,t=(this.props.disabled,this.handleOpenFileDialog),n=this.handleOnFilesAdded,i=this.handleDragOver,c=this.handleDragLeave,l=this.handleDrop;return r.a.createElement("div",{className:"drop-zone-container ".concat(a&&"hover"),onClick:t,onDragOver:i,onDragLeave:c,onDrop:l},r.a.createElement("input",{type:"file",multiple:!0,ref:function(a){e.fileInputRef=a},onChange:n}),r.a.createElement("div",{className:"drag-files"},r.a.createElement("img",{src:k.a,alt:"upload"}),r.a.createElement("h3",null,"Drag files to upload")))}}]),a}(n.Component)),j=(t(26),function(e){return r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"progress",style:{width:"".concat(e.progress,"%")}}))}),N=t(13),w=t.n(N),F=(t(27),function(){var e=Object(n.useState)([]),a=Object(h.a)(e,2),t=a[0],i=a[1],c=Object(n.useState)(!1),l=Object(h.a)(c,2),o=l[0],s=l[1],u=Object(n.useState)({}),v=Object(h.a)(u,2),f=v[0],b=v[1],g=Object(n.useState)(!1),E=Object(h.a)(g,2),O=E[0],y=E[1],k=function(){var e=Object(m.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({}),s(!0),a=[],t.forEach((function(e){a.push(N(e))})),e.prev=4,e.next=7,Promise.all(a);case 7:y(!0),s(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),y(!1),s(!1),console.log("ERROR: ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),N=function(e){return new Promise((function(a,t){var n=new XMLHttpRequest;n.upload.addEventListener("progress",(function(a){if(a.lengthComputable){var t=f;t[e.name]={state:"pending",percentage:a.loaded/a.total*100},b(t)}})),n.upload.addEventListener("load",(function(t){var r=f;r[e.name]={state:"done",percentage:100},b(r),a(n.response)})),n.upload.addEventListener("error",(function(a){var r=f;r[e.name]={state:"error",percentage:0},b(r),t(n.response)}));var r=new FormData;r.append("file",e,e.name),n.open("POST","http://localhost:8000/upload"),n.send(r)}))};return r.a.createElement("div",{className:"upload"},r.a.createElement("span",{className:"title"},"Upload Files"),r.a.createElement("div",{className:"content"},r.a.createElement("div",null,r.a.createElement(D,{onFilesAdded:function(e){return i([].concat(Object(d.a)(t),Object(d.a)(e)))},disabled:o||O})),r.a.createElement("div",{className:"files"},t.map((function(e,a){return r.a.createElement("div",{key:"".concat(e.name,"_").concat(a),className:"row"},r.a.createElement("span",{className:"filename"},e.name),function(e){var a=f[e.name];if(o||O)return r.a.createElement("div",{className:"progress-wrapper"},r.a.createElement(j,{progress:a?a.percentage:0}),r.a.createElement("img",{className:"check-icon",alt:"done",src:w.a,style:{opacity:a&&"done"===a.state?1:0}}))}(e))})))),r.a.createElement("div",{className:"actions"},O?r.a.createElement("button",{onClick:function(){i([]),y(!1)}},"Clear"):r.a.createElement("button",{disabled:t.length<=0||o,onClick:k},"Upload")))}),A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s,null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"card"},r.a.createElement(F,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[16,1,2]]]);
//# sourceMappingURL=main.ea43219f.chunk.js.map